# Ansible Inventory для развертывания MLOps проекта
# Файл: inventory.ini

# ==============================================================================
# ЛОКАЛЬНОЕ РАЗВЕРТЫВАНИЕ
# ==============================================================================
# Для развертывания на локальной машине:
# ansible-playbook -i inventory.ini deploy-playbook.yml --limit localhost

[localhost]
127.0.0.1 ansible_connection=local

# ==============================================================================
# DEVELOPMENT ОКРУЖЕНИЕ
# ==============================================================================
# Тестовые серверы для разработки

[development]
dev-mlops-01 ansible_host=10.0.1.10 ansible_user=ubuntu ansible_ssh_private_key_file=~/.ssh/dev_key.pem
dev-mlops-02 ansible_host=10.0.1.11 ansible_user=ubuntu ansible_ssh_private_key_file=~/.ssh/dev_key.pem

[development:vars]
mlops_port=8000
log_level=DEBUG
workers=2
enable_firewall=false
enable_https=false

# ==============================================================================
# STAGING ОКРУЖЕНИЕ
# ==============================================================================
# Pre-production окружение для тестирования

[staging]
staging-mlops-01 ansible_host=10.0.2.10 ansible_user=ubuntu ansible_ssh_private_key_file=~/.ssh/staging_key.pem

[staging:vars]
mlops_port=8000
log_level=INFO
workers=4
enable_firewall=true
enable_https=true
enable_backup=true

# ==============================================================================
# PRODUCTION ОКРУЖЕНИЕ
# ==============================================================================
# Production серверы

[production]
prod-mlops-01 ansible_host=10.0.3.10 ansible_user=ubuntu ansible_ssh_private_key_file=~/.ssh/prod_key.pem
prod-mlops-02 ansible_host=10.0.3.11 ansible_user=ubuntu ansible_ssh_private_key_file=~/.ssh/prod_key.pem
prod-mlops-03 ansible_host=10.0.3.12 ansible_user=ubuntu ansible_ssh_private_key_file=~/.ssh/prod_key.pem

[production:vars]
mlops_port=8000
log_level=WARNING
workers=8
enable_firewall=true
enable_https=true
enable_backup=true
enable_prometheus=true
memory_limit=1024
cpu_limit=2.0

# ==============================================================================
# ГРУППЫ ПО ОКРУЖЕНИЯМ
# ==============================================================================

[all_environments:children]
localhost
development
staging
production

# ==============================================================================
# ОБЩИЕ ПЕРЕМЕННЫЕ
# ==============================================================================

[all:vars]
# Python интерпретатор
ansible_python_interpreter=/usr/bin/python3

# Таймауты
ansible_ssh_timeout=30
ansible_command_timeout=300

# Privilege escalation
ansible_become=yes
ansible_become_method=sudo

# ==============================================================================
# ПРИМЕРЫ ИСПОЛЬЗОВАНИЯ
# ==============================================================================
#
# 1. Развертывание на localhost:
#    ansible-playbook -i inventory.ini deploy-playbook.yml --limit localhost
#
# 2. Развертывание на development окружение:
#    ansible-playbook -i inventory.ini deploy-playbook.yml --limit development
#
# 3. Развертывание на staging:
#    ansible-playbook -i inventory.ini deploy-playbook.yml --limit staging
#
# 4. Развертывание на production:
#    ansible-playbook -i inventory.ini deploy-playbook.yml --limit production
#
# 5. Развертывание на конкретный хост:
#    ansible-playbook -i inventory.ini deploy-playbook.yml --limit prod-mlops-01
#
# 6. Проверка без выполнения (dry-run):
#    ansible-playbook -i inventory.ini deploy-playbook.yml --check
#
# 7. Подробный вывод:
#    ansible-playbook -i inventory.ini deploy-playbook.yml -vvv
#
# ==============================================================================

# ==============================================================================
# CLOUD ПРОВАЙДЕРЫ (примеры)
# ==============================================================================

# AWS EC2
[aws_ec2]
# aws-mlops-01 ansible_host=ec2-XX-XX-XX-XX.compute-1.amazonaws.com ansible_user=ubuntu

# Google Cloud Platform
[gcp]
# gcp-mlops-01 ansible_host=XX.XX.XX.XX ansible_user=ubuntu

# Azure
[azure]
# azure-mlops-01 ansible_host=XX.XX.XX.XX ansible_user=azureuser

# DigitalOcean
[digitalocean]
# do-mlops-01 ansible_host=XX.XX.XX.XX ansible_user=root

# ==============================================================================
